# Nháº­n dáº¡ng kÃ½ tá»± quang há»c (OCR)

## I. Giá»›i thiá»‡u

Nháº­n dáº¡ng kÃ½ tá»± quang há»c (_Optical Character Recognition_ â€“ OCR) Ä‘á» cáº­p Ä‘áº¿n 1 táº­p há»£p cÃ¡c váº¥n Ä‘á» vá» thá»‹ giÃ¡c mÃ¡y tÃ­nh vá»›i má»¥c Ä‘Ã­ch chuyá»ƒn Ä‘á»•i cÃ¡c hÃ¬nh áº£nh ká»¹ thuáº­t sá»‘ hoáº·c hÃ¬nh áº£nh tÃ i liá»‡u Ä‘Æ°á»£c scan thÃ nh dÆ°á»›i dáº¡ng vÄƒn báº£n mÃ  mÃ¡y tÃ­nh cÃ³ thá»ƒ xá»­ lÃ½, lÆ°u trá»¯ vÃ  chá»‰nh sá»­a Ä‘Æ°á»£c nhÆ° 1 táº­p tin vÄƒn báº£n thÃ´ng thÆ°á»ng hoáº·c dÆ°á»›i dáº¡ng 1 pháº§n cá»§a pháº§n má»m nháº­p liá»‡u.

NÃ³i dÃ´ng dÃ i váº­y thÃ´i chá»© 1 cÃ¡ch dá»… hiá»ƒu thÃ¬ `OCR` Ä‘Æ¡n giáº£n chá»‰ lÃ  1 bÃ i toÃ¡n chuyá»ƒn Ä‘á»•i Ä‘áº§u vÃ o lÃ  1 áº£nh cÃ³ text, thÃ nh Ä‘áº§u ra lÃ  cÃ¡c text trong áº£nh Ä‘Ã³ dÆ°á»›i dáº¡ng ká»¹ thuáº­t sá»‘. CÃ¡c hÃ¬nh áº£nh cÃ³ thá»ƒ bao gá»“m tÃ i liá»‡u, hÃ³a Ä‘Æ¡n, biá»ƒu máº«u phÃ¡p lÃ½, chá»©ng minh thÆ° hoáº·c nhá»¯ng thá»© trong mÃ´i trÆ°á»ng tá»± nhiÃªn (_OCR in the wild_) nhÆ° biá»ƒn bÃ¡o Ä‘Æ°á»ng phá»‘, biá»ƒn sá»‘ xe, ...

![](./ocr.png)

DÃ¹ thÆ°á»ng khÃ´ng Ä‘Æ°á»£c chÃº Ã½, nhÆ°ng `OCR` lÃ  1 trá»£ giÃºp khÃ´ng thá»ƒ thay tháº¿ khi ta nÃ³i vá» tá»± Ä‘á»™ng hÃ³a. NÃ³ giÃºp loáº¡i bá» cÃ¡c quy trÃ¬nh khÃ´ng cáº§n thiáº¿t cá»§a cÃ¡c tÃ i liá»‡u giáº¥y, cho phÃ©p ta phÃ¢n loáº¡i, sáº¯p xáº¿p, lÆ°u trá»¯, quáº£n lÃ½ vÃ  chia sáº» thÃ´ng tin, Ä‘á»“ng thá»i trÃ¡nh cÃ¡c rá»§i ro báº£o máº­t liÃªn quan Ä‘áº¿n báº£n cháº¥t váº­t lÃ½ cá»§a cÃ¡c tÃ i liá»‡u giáº¥y.

NgoÃ i ra, tá»± Ä‘á»™ng hÃ³a dá»±a trÃªn `OCR` khÃ´ng chá»‰ lÃ  chia sáº» thÃ´ng tin dÆ°á»›i dáº¡ng ká»¹ thuáº­t sá»‘. Khi cÃ³ nhiá»u tÃ i liá»‡u, cÃ¡c loáº¡i mÃ¡y mÃ³c cÃ³ thá»ƒ sá»­ dá»¥ng chÃºng lÃ m má»¥c nháº­p dá»¯ liá»‡u Ä‘á»ƒ tÃ¬m kiáº¿m cÃ¡c máº«u vÃ  xu hÆ°á»›ng. Viá»‡c trá»±c quan hÃ³a cÅ©ng trá»Ÿ nÃªn dá»… dÃ ng hÆ¡n: náº¿u ta cáº§n 1 biá»ƒu Ä‘á»“, lÆ°á»£c Ä‘á»“ hoáº·c báº£ng tÃ­nh, thÃ¬ viá»‡c sá»­ dá»¥ng cÃ¡c tÃ i liá»‡u ká»¹ thuáº­t sá»‘ sáº½ nhanh hÆ¡n nhiá»u so vá»›i viá»‡c biÃªn soáº¡n 1 bÃ¡o cÃ¡o trá»±c quan báº±ng tay.

`OCR` cho phÃ©p ta dÃ nh Ã­t thá»i gian hÆ¡n Ä‘á»ƒ xá»­ lÃ½ tá»«ng tÃ i liá»‡u má»›i, tiáº¿t kiá»‡m chi phÃ­ nhÃ¢n lá»±c vÃ  thay vÃ o Ä‘Ã³ táº­p trung vÃ o cÃ¡c chiáº¿n lÆ°á»£c gia tÄƒng giÃ¡ trá»‹. ÄÃ¢y lÃ  1 chá»§ Ä‘á» phá»©c táº¡p vÃ¬ nÃ³ lÃ  sá»± dá»¥ng hÃ²a giá»¯a 2 lÄ©nh vá»±c lá»›n trong AI:

-   Thá»‹ giÃ¡c mÃ¡y tÃ­nh (_Computer Vision_ â€“ CV): huáº¥n luyá»‡n cÃ¡c mÃ´ hÃ¬nh há»c mÃ¡y Ä‘á»ƒ nhÃ¬n vÃ  giáº£i thÃ­ch hÃ¬nh áº£nh theo cÃ¡ch tÆ°Æ¡ng tá»± nhÆ° cÃ¡ch con ngÆ°á»i thá»±c hiá»‡n.
-   Xá»­ lÃ½ ngÃ´n ngá»¯ tá»± nhiÃªn (_Natural Language Processing_ â€“ NLP): chá»§ yáº¿u xá»­ lÃ½ vÄƒn báº£n hay cÃ¡c dá»¯ liá»‡u chuyá»ƒn giá»ng nÃ³i thÃ nh vÄƒn báº£n vÃ  táº­p trung vÃ o viá»‡c dáº¡y cho mÃ¡y tÃ­nh hiá»ƒu lá»i nÃ³i cá»§a con ngÆ°á»i.

### 1. CÃ¡c khÃ¡i niá»‡m cÆ¡ báº£n

ThÆ°á»ng cÃ³ sá»± pha trá»™n qua láº¡i giá»¯a 3 khÃ¡i niá»‡m: nháº­n dáº¡ng kÃ½ tá»± quang (_Optical Character Recognition_ â€“ `OCR`), nháº­n dáº¡ng kÃ½ tá»± thÃ´ng minh (_Intelligent Character Recognition_ â€“ `ICR`) vÃ  thu tháº­p dá»¯ liá»‡u thÃ´ng minh (_Intelligent Data Capture_ â€“ `IDC`). Má»™t sá»‘ nguá»“n cÃ³ xu hÆ°á»›ng sá»­ dá»¥ng cÃ¡c thuáº­t ngá»¯ nÃ y nhÆ° cÃ¡c tá»« Ä‘á»“ng nghÄ©a, nhÆ°ng cÃ³ má»™t sá»± khÃ¡c biá»‡t khÃ¡ rÃµ rÃ ng giá»¯a chÃºng.

Thuáº­t ngá»¯ `OCR` thÃ´ng thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng phá»• biáº¿n nháº¥t cho vÄƒn báº£n trong cÃ¡c tÃ i liá»‡u in tiÃªu chuáº©n, cÃ³ cáº¥u trÃºc. `ICR` lÃ  má»™t phiÃªn báº£n tiÃªn tiáº¿n hÆ¡n cá»§a `OCR` Ä‘Æ°á»£c sá»­ dá»¥ng cho cÃ¡c vÄƒn báº£n viáº¿t tay (handwritten), do sá»± phÃ¡t triá»ƒn cá»§a cÃ¡c cÃ´ng nghá»‡ `OCR` hiá»‡n Ä‘áº¡i, cÃ¡c nhÃ  khoa há»c dá»¯ liá»‡u vÃ  cÃ¡c ká»¹ sÆ° hiáº¿m khi phÃ¢n biá»‡t 2 hÃ¬nh thá»©c thu tháº­p dá»¯ liá»‡u tá»± Ä‘á»™ng nÃ y. `IDC` Ä‘áº¡i diá»‡n cho cÃ¡c thuáº­t toÃ¡n Ä‘Æ°á»£c xÃ¢y dá»±ng Ä‘á»ƒ tá»± Ä‘á»™ng hÃ³a tá»‘t hÆ¡n `OCR` vÃ o cÃ¡c quy trÃ¬nh kinh doanh, nÃ³ káº¿t há»£p kháº£ nÄƒng nháº­n dáº¡ng cá»§a `OCR` vá»›i viá»‡c giáº£i thÃ­ch dá»¯ liá»‡u (_Data Interpretation_) cho phÃ©p phÃ¢n loáº¡i tÃ i liá»‡u vÃ  cáº£ Ä‘iá»ƒm nháº­p liá»‡u.

Hiá»‡n táº¡i, `OCR` khÃ´ng chá»‰ giá»›i háº¡n á»Ÿ nháº­n dáº¡ng vÄƒn báº£n tÃ i liá»‡u hoáº·c sÃ¡ch mÃ  cÃ²n bao gá»“m cÃ¡c hÃ¬nh áº£nh chá»©a vÄƒn báº£n Ä‘Æ°á»£c chá»¥p trong cÃ¡c mÃ´i trÆ°á»ng há»—n táº¡p hay khÃ´ng Ä‘á»“ng nháº¥t, hÃ¬nh thÃ nh nÃªn cÃ¡c váº¥n Ä‘á» nhÆ° background phá»©c táº¡p, nhiá»…u, Ã¡nh sÃ¡ng, font chá»¯ khÃ¡c nhau vÃ  biáº¿n dáº¡ng hÃ¬nh há»c trong áº£nh, ...

### 2. PhÃ¢n loáº¡i hÃ¬nh áº£nh chá»©a vÄƒn báº£n

CÃ¡c thÃ¡ch thá»©c trong `OCR` phÃ¡t sinh chá»§ yáº¿u do cÃ¡c tÃ¡c vá»¥ `OCR` Ä‘ang thá»±c hiá»‡n. TrÃªn máº¡ng mÃ¬nh cÃ³ tháº¥y nhiá»u bÃ i viáº¿t phÃ¢n loáº¡i cÃ¡c hÃ¬nh áº£nh chá»©a vÄƒn báº£n nÃ y thÃ nh 2 loáº¡i (CÃ³ vÃ  Phi cáº¥u trÃºc) nhÆ°ng mÃ¬nh tháº¥y chia nhÆ° váº­y váº«n cÃ²n khÃ¡ nháº­p nháº±ng vÃ  nhiá»u chá»— chÆ°a Ä‘Æ°á»£c rÃµ rÃ ng nÃªn mÃ¬nh sáº½ chia cÃ¡c tÃ¡c vá»¥ nÃ y thÃ nh 3 loáº¡i:

-   **CÃ³ cáº¥u trÃºc** (_Structured_): vÄƒn báº£n trong cÃ¡c tÃ i liá»‡u Ä‘Æ°á»£c Ä‘Ã¡nh mÃ¡y, cÃ³ background sáº¡ch, Ä‘á»“ng nháº¥t, font chá»¯ theo tiÃªu chuáº©n, Ã­t nhiá»…u (_Noise_), hÃ ng lá»‘i rÃµ rÃ ng, cÃ³ má»™t tráº­t tá»± nháº¥t Ä‘á»‹nh vÃ  thÆ°á»ng cÃ³ máº­t Ä‘á»™ vÄƒn báº£n (_Density_) cao.
    [![](https://nanonets.com/blog/content/images/2019/08/image-16.png)](https://nanonets.com/blog/content/images/2019/08/image-16.png)
-   **Phi cáº¥u trÃºc** (_Unstructured_): Ä‘Ã¢y lÃ  loáº¡i áº£nh nhiá»u khÃ³ khÄƒn nháº¥t, vÄƒn báº£n sáº½ á»Ÿ nhá»¯ng vá»‹ trÃ­ ngáº«u nhiÃªn trong áº£nh hay trong má»™t hoáº¡t cáº£nh tá»± nhiÃªn (_OCR in the wild_), thÆ°á»ng cÃ³ máº­t Ä‘á»™ vÄƒn báº£n thÆ°a thá»›t, cáº¥u trÃºc hÃ ng lá»‘i báº¥t Ä‘á»‹nh, background phá»©c táº¡p, vÃ  khÃ´ng cÃ³ font chuáº©n. Dá»¯ liá»‡u kiá»ƒu nÃ y cÅ©ng cÃ³ thá»ƒ Ä‘Æ°á»£c chia thÃ nh 3 loáº¡i nhá» khÃ¡c:
    -   **Graphic text**: áº£nh cÃ³ vÄƒn báº£n Ä‘Æ°á»£c thÃªm vÃ o sau khi Ä‘Ã£ cÃ³ áº£nh nhÆ° phá»¥ Ä‘á» cá»§a video, â€¦
    -   **Scene text**: áº£nh cÃ³ vÄƒn báº£n xuáº¥t hiá»‡n trong tá»± nhiÃªn, tá»©c vÄƒn báº£n lÃ  thÃ nh pháº§n cÃ³ sáºµn trong áº£nh. CÃ¡c dá»¯ liá»‡u loáº¡i nÃ y cÃ³ nhiá»u thÃ¡ch thá»©c nhÆ° vá» hÆ°á»›ng (_Orientation_), loáº¡i font, Ä‘iá»u kiá»‡n Ã¡nh sÃ¡ng hay Ä‘á»™ lá»‡ch (_Skewness_) cá»§a chá»¯. TÃ¡c vá»¥ OCR cho dá»¯ liá»‡u loáº¡i nÃ y cÃ²n gá»i lÃ  **Scene Text Recognition** â€“ `STR`.
        [![](http://tutorials.aiclub.cs.uit.edu.vn/wp-content/uploads/2021/07/graphicvsscenetext.jpg)](http://tutorials.aiclub.cs.uit.edu.vn/wp-content/uploads/2021/07/graphicvsscenetext.jpg)
    -   **Synthetic text**: khÃ¡ giá»‘ng vá»›i **Graphic text**, Ä‘Ã¢y lÃ  má»™t Ã½ tÆ°á»Ÿng khÃ¡ hay Ä‘á»ƒ cáº£i thiá»‡n hiá»‡u suáº¥t cá»§a quÃ¡ trÃ¬nh huáº¥n luyá»‡n báº±ng cÃ¡ch táº¡o dá»¯ liá»‡u giáº£ báº±ng mÃ¡y tÃ­nh. Viá»‡c sinh cÃ¡c kÃ½ tá»± hoáº·c tá»« ngáº«u nhiÃªn lÃªn má»™t hÃ¬nh áº£nh sáº½ cÃ³ váº» tá»± nhiÃªn hÆ¡n nhiá»u so vá»›i báº¥t ká»³ váº­t thá»ƒ nÃ o khÃ¡c vÃ¬ tÃ­nh cháº¥t pháº³ng cá»§a vÄƒn báº£n. CÃ¡c bá»™ dataset cho dá»¯ liá»‡u loáº¡i nÃ y cÅ©ng vÆ°á»£t trá»™i vá» kháº£ nÄƒng táº¡o ra cÃ¡c ngÃ´n ngá»¯ khÃ¡c nhau, ngay cáº£ nhá»¯ng ngÃ´n ngá»¯ khÃ³, cháº³ng háº¡n nhÆ° tiáº¿ng Trung, tiáº¿ng Do ThÃ¡i, tiáº¿ng áº¢ Ráº­p, â€¦
        [![](https://github.com/ankush-me/SynthText/raw/master/samples.png)](https://github.com/ankush-me/SynthText/raw/master/samples.png)
-   **Lai** giá»¯a cÃ³ vÃ  phi cáº¥u trÃºc (_Hybrid_): thÆ°á»ng lÃ  cÃ¡c báº£n scan, photocopy khÃ´ng pháº£i á»Ÿ dáº¡ng Ä‘Ã¡nh mÃ¡y cá»§a cÃ¡c tÃ i liá»‡u, sÃ¡ch, cÃ³ cáº¥u trÃºc tá»‘t, background Ã­t phá»©c táº¡p, gá»n gÃ ng, thÆ°á»ng cÃ³ máº­t Ä‘á»™ vÄƒn báº£n cao hÆ¡n so vá»›i cÃ¡c áº£nh chá»©a vÄƒn báº£n phi cáº¥u trÃºc nhÆ°ng cÃ³ hÆ°á»›ng nghiÃªng vÃ  Ä‘á»™ lá»‡ch nhá». NgoÃ i ra, Ä‘á»‘i vá»›i loáº¡i vÄƒn báº£n nhÆ° cÃ¡c tÆ° liá»‡u lá»‹ch sá»­ thÃ¬ cÃ²n cÃ³ thá»ƒ cÃ³ sá»± nhá»¯ng thay Ä‘á»•i lá»›n vÃ  mÆ¡ há»“ do sá»± khÃ¡c nhau vá» nÃ©t chá»¯ giá»¯a tá»«ng ngÆ°á»i hay cháº¥t lÆ°á»£ng áº£nh cÃ³ thá»ƒ bá»‹ giáº£m dáº§n theo thá»i gian.

### 3. OCR vÃ  Deep Learning

`OCR` lÃ  1 trong nhá»¯ng nhiá»‡m vá»¥ thá»‹ giÃ¡c mÃ¡y tÃ­nh Ä‘Æ°á»£c giáº£i quyáº¿t sá»›m nháº¥t vÃ¬ á»Ÿ khÃ­a cáº¡nh nÃ o Ä‘Ã³, nÃ³ khÃ´ng cáº§n tá»›i _Deep Learning_, do Ä‘Ã³ Ä‘Ã£ cÃ³ nhá»¯ng cÃ¡ch triá»ƒn khai `OCR` khÃ¡c nhau ngay cáº£ trÆ°á»›c khi _Deep Learning_ bÃ¹ng ná»• vÃ o nÄƒm 2012. Äiá»u nÃ y khiáº¿n nhiá»u ngÆ°á»i nghÄ© ráº±ng cÃ¡c bÃ i toÃ¡n `OCR` Ä‘Ã£ Ä‘Æ°á»£c â€œgiáº£iâ€, nÃ³ khÃ´ng cÃ²n lÃ  1 thÃ¡ch thá»©c ná»¯a vÃ  viá»‡c sá»­ dá»¥ng Deep Learning cho `OCR` lÃ  1 viá»‡c lÃ m quÃ¡ má»©c cáº§n thiáº¿t.

TrÃªn thá»±c táº¿, `OCR` chá»‰ mang láº¡i káº¿t quáº£ tá»‘t trong cÃ¡c trÆ°á»ng há»£p cá»¥ thá»ƒ vÃ  Ä‘Ãºng lÃ  cÃ³ nhá»¯ng giáº£i phÃ¡p tá»‘t cho 1 sá»‘ tÃ¡c vá»¥ `OCR` khÃ´ng yÃªu cáº§u Deep Learning. Ráº¥t nhiá»u ká»¹ thuáº­t trÆ°á»›c Ä‘Ã³ Ä‘Ã£ giáº£i quyáº¿t váº¥n Ä‘á» `OCR` cho vÄƒn báº£n cÃ³ cáº¥u trÃºc báº±ng 1 sá»‘ ká»¹ thuáº­t thá»‹ giÃ¡c mÃ¡y tÃ­nh truyá»n thá»‘ng hay cÃ¡c phÆ°Æ¡ng phÃ¡p xá»­ lÃ½ áº£nh cÄƒn báº£n nhÆ° bá»™ lá»c hÃ¬nh áº£nh, hÃ¬nh thÃ¡i há»c (_morphology_) vÃ  phÃ¡t hiá»‡n cáº¡nh (_contour_) Ä‘á»ƒ tá»« Ä‘Ã³ phÃ¢n loáº¡i 1 vÃ¹ng áº£nh lÃ  chá»¯ gÃ¬, â€¦ CÃ¡c ká»¹ thuáº­t nÃ y chá»‰ hoáº¡t Ä‘á»™ng tá»‘t trÃªn cÃ¡c táº­p dá»¯ liá»‡u háº¹p, theo khuÃ´n máº«u (_template-based_), khÃ´ng thay Ä‘á»•i nhiá»u vá» hÆ°á»›ng, vá»‹ trÃ­ vÄƒn báº£n hay cháº¥t lÆ°á»£ng hÃ¬nh áº£nh, â€¦ nhÆ°ng chÃºng khÃ´ng hoáº¡t Ä‘á»™ng Ä‘Ãºng vá»›i cÃ¡c mÃ´i trÆ°á»ng áº£nh khÃ´ng bá»‹ rÃ ng buá»™c khÃ¡c, cÃ³ máº­t Ä‘á»™ vÄƒn báº£n nhá» hÆ¡n hay cÃ³ cÃ¡c thuá»™c tÃ­nh khÃ¡c vá»›i dá»¯ liá»‡u cÃ³ cáº¥u trÃºc, â€¦

NhÃ¬n chung, Ä‘Ã¢y váº«n Ä‘Æ°á»£c xem lÃ  thÃ¡ch thá»©c, Ä‘á»ƒ lÃ m cho cÃ¡c mÃ´ hÃ¬nh trá»Ÿ nÃªn máº¡nh máº½ vá»›i cÃ¡c biáº¿n thá»ƒ trÃªn, giÃºp cÃ¡c doanh nghiá»‡p cÃ³ thá»ƒ triá»ƒn khai cÃ¡c á»©ng dá»¥ng há»c mÃ¡y cá»§a há» trÃªn quy mÃ´ lá»›n, cÃ¡c giáº£i phÃ¡p má»›i cáº§n Ä‘Æ°á»£c Ä‘Æ°a ra. CÃ¡c phÆ°Æ¡ng phÃ¡p tiáº¿p cáº­n báº±ng _Deep Learning_ Ä‘Ã£ Ä‘Æ°á»£c cáº£i thiá»‡n trong vÃ i nÄƒm qua, lÃ m há»“i sinh má»‘i quan tÃ¢m Ä‘áº¿n váº¥n Ä‘á» `OCR`, nÆ¡i máº¡ng nÆ¡-ron cÃ³ thá»ƒ káº¿t há»£p cÃ¡c tÃ¡c vá»¥ xÃ¡c Ä‘á»‹nh vÄƒn báº£n trong 1 hÃ¬nh áº£nh vÃ  hiá»ƒu vÄƒn báº£n Ä‘Ã³ lÃ  gÃ¬. _Deep Learning_ cÃ³ thá»ƒ Ä‘Æ°á»£c xem lÃ  báº¯t buá»™c Ä‘á»ƒ tiáº¿n tá»›i cÃ¡c giáº£i phÃ¡p tá»‘t hÆ¡n vÃ  tá»•ng quÃ¡t hÆ¡n.

### 4. CÃ¡c bÆ°á»›c triá»ƒn khai chÃ­nh

CÃ³ 2 má»©c Ä‘á»™ Ä‘á»ƒ triá»ƒn khai cÃ¡c tÃ¡c vá»¥ `OCR`: má»©c chuá»—i (_sequence level_) vÃ  má»©c kÃ½ tá»± (_character level_). NgÃ y nay, má»©c chuá»—i thÆ°á»ng Ä‘Æ°á»£c Æ°a chuá»™ng hÆ¡n do má»©c kÃ½ tá»± Ä‘Ã²i há»i chi phÃ­ gÃ¡n nhÃ£n quÃ¡ lá»›n vÃ¬ cáº§n pháº£i váº½ `bounding box` cho tá»«ng kÃ½ tá»±, tá»« Ä‘Ã³ dá»… xuáº¥t hiá»‡n nhiá»u váº¥n Ä‘á» nan giáº£i hÆ¡n nhÆ° `bounding box` giá»¯a 2 kÃ½ tá»± liÃªn tiáº¿p cÃ³ thá»ƒ khÃ´ng rÃµ rÃ ng hoáº·c bá»‹ Ä‘Ã¨ lÃªn nhau (overlap), ... Tiáº¿p theo, ngÆ°á»i ta cÅ©ng chia `OCR` thÃ nh 2 bÃ i toÃ¡n con chÃ­nh:

-   **PhÃ¡t hiá»‡n vÄƒn báº£n** (_Text Detection_): phÃ¡t hiá»‡n vÃ¹ng áº£nh cÃ³ chá»©a vÄƒn báº£n. Äáº§u vÃ o lÃ  áº£nh, Ä‘áº§u ra lÃ  cÃ¡c `bounding box` bao quanh cÃ¡c pháº§n vÄƒn báº£n Ä‘Æ°á»£c tÃ¬m tháº¥y trÃªn áº£nh.
-   **Nháº­n dáº¡ng vÄƒn báº£n** (_Text Recognition_): sau khi detect Ä‘Æ°á»£c cÃ¡c `bounding box` hay cÃ¡c vÃ¹ng áº£nh cÃ³ chá»©a vÄƒn báº£n, ta tÃ¡ch riÃªng tá»«ng vÃ¹ng áº£nh nÃ y ra tá»« áº£nh gá»‘c, táº¡o thÃ nh cÃ¡c pháº§n áº£nh nhá» cÃ²n gá»i lÃ  cÃ¡c `Patch`. Äáº§u vÃ o lÃºc nÃ y sáº½ lÃ  `Patch` vÃ  Ä‘áº§u ra lÃ  vÄƒn báº£n cÃ³ trong `Patch` Ä‘Ã³.

    ![](./pipeline.png)

### 5. Má»™t sá»‘ dataset cho vÄƒn báº£n phi cáº¥u trÃºc

CÃ³ ráº¥t nhiá»u bá»™ dá»¯ liá»‡u hÃ¬nh áº£nh cÃ³ sáºµn cho cÃ¡c vÄƒn báº£n phi cáº¥u trÃºc vÃ  cho tiáº¿ng Anh, nhÆ°ng sáº½ khÃ³ hÆ¡n Ä‘á»ƒ tÃ¬m bá»™ dá»¯ liá»‡u giá»‘ng váº­y cho cÃ¡c ngÃ´n ngá»¯ khÃ¡c hay khÃ´ng pháº£i cho vÄƒn báº£n phi cáº¥u trÃºc. CÃ¡c bá»™ dá»¯ liá»‡u khÃ¡c nhau trÃ¬nh bÃ y cÃ¡c tÃ¡c vá»¥ khÃ¡c nhau cáº§n giáº£i quyáº¿t. DÆ°á»›i Ä‘Ã¢y lÃ  má»™t vÃ i bá»™ dá»¯ liá»‡u ná»•i tiáº¿ng:

-   [SVHN](http://ufldl.stanford.edu/housenumbers/): bá»™ dá»¯ liá»‡u vá» sá»‘ nhÃ  Ä‘Æ°á»£c trÃ­ch xuáº¥t tá»« Google Street View. CÃ¡c chá»¯ sá»‘ cÃ³ nhiá»u hÃ¬nh dáº¡ng vÃ  kiá»ƒu viáº¿t khÃ¡c nhau; tuy nhiÃªn, má»—i sá»‘ nhÃ  Ä‘Æ°á»£c Ä‘áº·t á»Ÿ giá»¯a hÃ¬nh. áº¢nh cÃ³ Ä‘á»™ phÃ¢n giáº£i khÃ´ng cao vÃ  cÃ¡ch sáº¯p xáº¿p cá»§a chÃºng cÃ³ thá»ƒ hÆ¡i ká»³ láº¡.
-   ICDAR [2013](https://paperswithcode.com/dataset/icdar-2013) vÃ  [2015](https://paperswithcode.com/dataset/icdar-2015): 2 bá»™ dá»¯ liá»‡u dÃ nh cho há»™i nghá»‹ vÃ  cuá»™c thi ICDAR. ÄÃ¢y lÃ  2 bá»™ dá»¯ liá»‡u benchmark tiÃªu chuáº©n dÃ¹ng Ä‘á»ƒ Ä‘Ã¡nh giÃ¡ ráº¥t nhiá»ƒu mÃ´ hÃ¬nh phá»¥c vá»¥ cÃ¡c tÃ¡c vá»¥ OCR cho áº£nh cÃ³ vÄƒn báº£n gáº§n náº±m ngang. NgoÃ i ra cÃ²n cÃ³ cÃ¡c phiÃªn báº£n cho nhá»¯ng nÄƒm khÃ¡c nhÆ° [2003](https://paperswithcode.com/dataset/icdar-2003) hay [2019](https://rrc.cvc.uab.es/?ch=15), tuy nhiÃªn cÃ¡c báº£n nÄƒm [2013](https://paperswithcode.com/dataset/icdar-2013) vÃ  [2015](https://paperswithcode.com/dataset/icdar-2015) váº«n lÃ  phá»• biáº¿n nháº¥t.
-   [Total-Text](https://paperswithcode.com/dataset/total-text): tÆ°Æ¡ng tá»± cÃ¡c bá»™ dá»¯ liá»‡u ICDAR, Ä‘Ã¢y cÅ©ng lÃ  má»™t trong cÃ¡c bá»™ dá»¯ liá»‡u benchmark tiÃªu chuáº©n, gá»“m cÃ¡c hÃ¬nh áº£nh vá»›i nhiá»u loáº¡i vÄƒn báº£n khÃ¡c nhau nhÆ° cÃ¡c trÆ°á»ng há»£p vÄƒn báº£n ngang, nhiá»u hÆ°á»›ng hay bá»‹ cong.

### 6. Má»™t sá»‘ cÃ´ng cá»¥ mÃ£ nguá»“n má»Ÿ

Trong má»™t thá»i gian dÃ i, [Tesseract OCR](https://github.com/tesseract-ocr/tesseract) dáº«n Ä‘áº§u cÃ¡c tool OCR mÃ£ nguá»“n má»Ÿ, cÃ³ thá»ƒ nháº­n dáº¡ng hÆ¡n 100 ngÃ´n ngá»¯. [Tesseract 4](https://github.com/tesseract-ocr/tesseract) sá»­ dá»¥ng cÃ¡c mÃ´ hÃ¬nh LSTM cho **Text Recognition** thay vÃ¬ cÃ¡c phÆ°Æ¡ng phÃ¡p thá»‹ giÃ¡c mÃ¡y truyá»n thá»‘ng nhÆ° cÃ¡c phiÃªn báº£n trÆ°á»›c nhÆ°ng váº«n tá» ra khÃ¡ yáº¿u vá»›i cÃ¡c loáº¡i dá»¯ liá»‡u phi cáº¥u trÃºc vÃ  1 nhÆ°á»£c Ä‘iá»ƒm khÃ¡c lÃ  [Tesseract](https://github.com/tesseract-ocr/tesseract) chá»‰ Ä‘Æ°á»£c tá»‘i Æ°u cho CPU. Nhá» sá»± phÃ¡t triá»ƒn cá»§a _Deep Learning_, giá» Ä‘Ã¢y ta Ä‘Ã£ cÃ³ nhiá»u lá»±a chá»n vÆ°á»£t trá»™i hÆ¡n [Tesseract](https://github.com/tesseract-ocr/tesseract), sá»­ dá»¥ng Ä‘Æ°á»£c cho nhiá»u ngÃ´n ngá»¯ hay cÃ¡c trÆ°á»ng há»£p dá»¯ liá»‡u khÃ¡c nhau, há»— trá»£ cáº£ viá»‡c huáº¥n luyá»‡n láº¡i (_Retraining_) hoáº·c tinh chá»‰nh (_Fine-tuning_). ChÃºng liÃªn tá»¥c Ä‘Æ°á»£c phÃ¡t triá»ƒn vÃ  sá»­ dá»¥ng cÃ¡c phÆ°Æ¡ng phÃ¡p tiáº¿p cáº­n hiá»‡n Ä‘áº¡i nháº¥t cho cáº£ 2 bÃ i toÃ¡n **Detection** vÃ  **Recognition**. Má»™t sá»‘ Ä‘áº¡i diá»‡n ná»•i báº­t cÃ³ thá»ƒ ká»ƒ Ä‘áº¿n lÃ  [docTR](https://github.com/mindee/doctr), [keras-ocr](https://github.com/faustomorales/keras-ocr) hay [EasyOCR](https://github.com/JaidedAI/EasyOCR) sá»­ dá»¥ng pipeline Ä‘Æ°á»£c Ä‘á» cáº­p trong pháº§n [II.3.e](#e-bá»•-sung).

NgoÃ i ra, cÃ²n cÃ³ cÃ¡c cÃ´ng cá»¥ há»— trá»£ viá»‡c sinh **Synthetic text** nhÆ° [SynthText](https://github.com/ankush-me/SynthText) há»— trá»£ viá»‡c â€œráº¯câ€ chá»¯ má»™t cÃ¡ch thÃ´ng minh Ä‘á»ƒ chÃºng trÃ´ng chÃ¢n tháº­t nháº¥t hay [TRDG](https://github.com/Belval/TextRecognitionDataGenerator) há»— trá»£ táº¡o dá»¯ liá»‡u **Synthetic text** cho **Text Recognition**, Ä‘Ã¢y cÅ©ng lÃ  trÃ¬nh táº¡o dá»¯ liá»‡u Ä‘Æ°á»£c dÃ¹ng trong [EasyOCR](https://github.com/JaidedAI/EasyOCR).

Cuá»‘i cÃ¹ng, há»™i tá»¥ cá»§a táº¥t cáº£ cÃ¡c cÃ´ng nghá»‡ trÃªn, [PaddleOCR](https://github.com/PaddlePaddle/PaddleOCR) â€“ má»™t bá»™ cÃ´ng cá»¥ hay nÃ³i Ä‘Ãºng hÆ¡n lÃ  má»™t há»‡ sinh thÃ¡i cho OCR cá»±c ká»³ máº¡nh máº½ nhÆ°ng láº¡i cá»±c ká»³ nháº¹ (ultra lightweight), há»— trá»£ Ä‘a ngÃ´n ngá»¯ cÅ©ng nhÆ° nhiá»u thuáº­t toÃ¡n tiÃªn tiáº¿n liÃªn quan Ä‘áº¿n OCR vÃ  phÃ¡t triá»ƒn cÃ¡c mÃ´ hÃ¬nh hay giáº£i phÃ¡p cÃ´ng nghiá»‡p ná»•i báº­t. Äá»“ng thá»i, [PaddleOCR](https://github.com/PaddlePaddle/PaddleOCR) cÅ©ng cung cáº¥p cÃ¡c cÃ´ng cá»¥ gÃ¡n nhÃ£n vÃ  táº¡o dá»¯ liá»‡u Synthetic, ngoÃ i ra bá»™ cÃ´ng cá»¥ nÃ y cÃ²n giÃºp huáº¥n luyá»‡n vÃ  triá»ƒn khai giá»¯a cÃ¡c thiáº¿t bá»‹ mÃ¡y chá»§, di Ä‘á»™ng hay cÃ¡c thiáº¿t bá»‹ nhÃºng vÃ  IoT.

## II. CÃ¡c phÆ°Æ¡ng phÃ¡p tiáº¿p cáº­n

### 1. Khá»Ÿi nguá»“n vÃ  lÃ½ do tiáº¿p cáº­n báº±ng Deep Learning

NhÆ° Ä‘Ã£ Ä‘á» cáº­p trong [I.3](#3-ocr-vÃ -deep-learning), má»™t trong nhá»¯ng hÆ°á»›ng tiáº¿p cáº­n Ä‘Æ¡n giáº£n nháº¥t cho bÃ i toÃ¡n OCR lÃ  sá»­ dá»¥ng cÃ¡c ká»¹ thuáº­t thá»‹ giÃ¡c mÃ¡y tÃ­nh truyá»n thá»‘ng hay cÃ¡c phÆ°Æ¡ng phÃ¡p xá»­ lÃ½ áº£nh cÄƒn báº£n vÃ  chÃºng Ä‘Ã£ Ä‘Æ°á»£c sá»­ dá»¥ng trong má»™t thá»i gian dÃ i. CÃ³ thá»ƒ gÃ³i gá»n chÃºng trong cÃ¡c bÆ°á»›c sau:

-   Ãp dá»¥ng cÃ¡c bá»™ lá»c (_filters_) Ä‘á»ƒ lÃ m ná»•i báº­t cÃ¡c kÃ½ tá»± tá»« background.
-   Tiáº¿n hÃ nh phÃ¡t hiá»‡n cáº¡nh (_contour_) Ä‘á»ƒ phÃ¡t hiá»‡n cÃ¡c vÃ¹ng áº£nh chá»©a kÃ½ tá»±.
-   Thá»±c hiá»‡n phÃ¢n loáº¡i cho cÃ¡c vÃ¹ng áº£nh Ä‘Ã³ Ä‘á»ƒ xÃ¡c Ä‘á»‹nh kÃ½ tá»± trong chÃºng lÃ  gÃ¬.

RÃµ rÃ ng lÃ  náº¿u bÆ°á»›c 2 Ä‘Æ°á»£c thá»±c hiá»‡n tá»‘t thÃ¬ bÆ°á»›c 3 cÃ³ thá»ƒ dá»… dÃ ng thá»±c hiá»‡n báº±ng cÃ¡ch khá»›p máº«u (_Pattern Matching_) hay huáº¥n luyá»‡n 1 máº¡ng `CNN` Ä‘Æ¡n giáº£n. Tuy nhiÃªn, phÃ¡t hiá»‡n cáº¡nh sáº½ khÃ¡ khÃ³ khÄƒn cho viá»‡c khÃ¡i quÃ¡t hÃ³a, chÆ°a thá»ƒ thÃ­ch á»©ng Ä‘Æ°á»£c vá»›i cÃ¡c sá»± Ä‘a dáº¡ng trong áº£nh, nháº¥t lÃ  trong cÃ¡c mÃ´i trÆ°á»ng há»—n táº¡p. NÃ³ Ä‘Ã²i há»i ráº¥t nhiá»u Ä‘iá»u chá»‰nh thá»§ cÃ´ng nÃªn cÃ¡ch lÃ m nÃ y trá»Ÿ nÃªn khÃ´ng kháº£ thi trong háº§u háº¿t cÃ¡c trÆ°á»ng há»£p. VÃ­ dá»¥ nhÆ° hÃ¬nh bÃªn dÆ°á»›i, xá»­ lÃ½ áº£nh cÄƒn báº£n tháº¥t báº¡i khi cÃ¡c kÃ½ tá»± gáº§n nhau.

![](./basic-failed.png)

Má»™t nhÆ°á»£c Ä‘iá»ƒm ná»¯a cÅ©ng cÃ³ thá»ƒ tháº¥y lÃ  Ä‘a pháº§n cÃ¡ch lÃ m nÃ y chá»‰ cÃ³ hiá»‡u quáº£ vá»›i má»©c kÃ½ tá»± nÃªn náº¿u triá»ƒn khai theo hÆ°á»›ng nÃ y thÃ¬ ngoÃ i chi phÃ­ gÃ¡n nhÃ£n lá»›n khi lÃ m dá»¯ liá»‡u, ta cÃ²n cÃ³ thá»ƒ sáº½ Ä‘Ã¡nh máº¥t ngá»¯ nghÄ©a xung quanh text. CÃ¡c hÆ°á»›ng tiáº¿p cáº­n báº±ng _Deep Learning_ hiá»‡n nay cÃ³ thá»ƒ xem lÃ  Ä‘Ã£ chÃ­n mÃ¹i, vÆ°á»£t trá»™i trong viá»‡c khÃ¡i quÃ¡t cá»§a chÃºng vÃ  Ä‘Ã£ trá»Ÿ thÃ nh giáº£i phÃ¡p thá»‘ng trá»‹ trong cáº£ nghiÃªn cá»©u vÃ  thá»±c táº¿.

### 2. PhÃ¡t hiá»‡n vÄƒn báº£n (Text Detection)

Äáº§u tiÃªn, cÃ³ thá»ƒ tháº¥y bÃ i toÃ¡n **Text Detection** khÃ¡ giá»‘ng vá»›i bÃ i toÃ¡n **Object Detection**, trong Ä‘Ã³ object cáº§n Ä‘Æ°á»£c phÃ¡t hiá»‡n chÃ­nh lÃ  text. Do váº­y, ta cÃ³ thá»ƒ Ã¡p dá»¥ng cÃ¡c kiáº¿n trÃºc _Deep Learning_ cho bÃ i toÃ¡n nÃ y nhÆ° YOLO, SSD hay Faster R-CNN Ä‘á»ƒ Ä‘áº¡t Ä‘Æ°á»£c Ä‘á»™ chÃ­nh xÃ¡c cao hÆ¡n so vá»›i cÃ¡c phÆ°Æ¡ng phÃ¡p xá»­ lÃ½ áº£nh thá»§ cÃ´ng. Tuy nhiÃªn, cÃ¡c mÃ´ hÃ¬nh nÃ y cÃ³ váº» chá»‰ mang láº¡i káº¿t quáº£ tá»‘t vá»›i cÃ¡c object lá»›n cÅ©ng nhÆ° vá»›i áº£nh cÃ³ Ä‘á»™ phÃ¢n giáº£i cao. KhÃ¡ lÃ  trá»› trÃªu vÃ¬ trÃªn thá»±c táº¿, cÃ¡c mÃ´ hÃ¬nh nÃ y tá» ra khÃ³ khÄƒn hÆ¡n vÃ  cÃ³ xu hÆ°á»›ng khÃ´ng Ä‘áº¡t Ä‘Æ°á»£c Ä‘á»™ chÃ­nh xÃ¡c mong muá»‘n khi detect cÃ¡c chá»¯ sá»‘ vÃ  chá»¯ cÃ¡i so vá»›i khi detect cÃ¡c object phá»©c táº¡p nhÆ° chÃ³, mÃ¨o hay con ngÆ°á»i.

CÃ¡c phÆ°Æ¡ng phÃ¡p chuyÃªn biá»‡t dá»±a trÃªn _Deep Learning_ gáº§n Ä‘Ã¢y Ä‘Ã£ giáº£i quyáº¿t Ä‘Æ°á»£c háº§u háº¿t cÃ¡c váº¥n Ä‘á» trÃªn vÃ  Ä‘áº¡t Ä‘Æ°á»£c nhá»¯ng káº¿t quáº£ tá»‘t trÃªn nhiá»u bá»™ dá»¯ liá»‡u benchmark tiÃªu chuáº©n nhÆ° ICDAR [2013](https://paperswithcode.com/dataset/icdar-2013) vÃ  [2015](https://paperswithcode.com/dataset/icdar-2015) hay [Total-Text](https://paperswithcode.com/dataset/total-text). Cá»¥ thá»ƒ, chÃºng Ä‘Æ°á»£c chia thÃ nh 2 loáº¡i chÃ­nh nhÆ° sau:

-   CÃ¡c phÆ°Æ¡ng phÃ¡p **Regression-based**: sau khi cÃ³ káº¿t quáº£ dá»± Ä‘oÃ¡n, `bounding box` cuá»‘i cÃ¹ng sáº½ Ä‘Æ°á»£c lá»c qua báº±ng thuáº­t toÃ¡n **Non-Maximum Suppression**. Pháº§n lá»›n `bounding box` cá»§a cÃ¡ch lÃ m nÃ y chá»‰ cÃ³ 4 Ä‘iá»ƒm tá»a Ä‘á»™ nÃªn phÆ°Æ¡ng phÃ¡p nÃ y sáº½ bá»‹ giá»›i háº¡n trong viá»‡c biá»ƒu diá»…n cÃ¡c vÄƒn báº£n cÃ³ hÃ¬nh dáº¡ng báº¥t thÆ°á»ng (vÃ­ dá»¥ nhÆ° bá»‹ cong) trong áº£nh. Má»™t sá»‘ mÃ´ hÃ¬nh ná»•i báº­t cho phÆ°Æ¡ng phÃ¡p nÃ y cÃ³ thá»ƒ ká»ƒ Ä‘áº¿n nhÆ° [EAST](https://github.com/argman/EAST) hay [TextBoxes](https://github.com/MhLiao/TextBoxes).
-   CÃ¡c phÆ°Æ¡ng phÃ¡p **Segmentation-based**: xem bÃ i toÃ¡n **Detection** dÆ°á»›i gÃ³c nhÃ¬n cá»§a má»™t bÃ i toÃ¡n **Object Segmentation**, nháº±m má»¥c Ä‘Ã­ch tÃ¬m kiáº¿m cÃ¡c vÃ¹ng áº£nh chá»©a text á»Ÿ cáº¥p pixel (tráº£ vá» xÃ¡c suáº¥t má»™t pixel chá»©a text). CÃ¡ch tiáº¿p cáº­n nÃ y sáº½ phÃ¡t hiá»‡n text báº±ng cÃ¡ch Æ°á»›c tÃ­nh vÃ¹ng giá»›i háº¡n (_bounding area_) cá»§a text. `Bounding box` cá»§a text sáº½ Ä‘Æ°á»£c xÃ¢y dá»±ng thÃ´ng qua káº¿t quáº£ phÃ¢n vÃ¹ng, nhá» váº­y chÃºng cÃ³ thá»ƒ biá»ƒu diá»…n cÃ¡c hÃ¬nh dáº¡ng báº¥t thÆ°á»ng. Má»™t sá»‘ Ä‘áº¡i diá»‡n tiÃªu biá»ƒu cho phÆ°Æ¡ng phÃ¡p nÃ y lÃ  [DBNet](https://github.com/MhLiao/DB), [PSENet](https://github.com/whai362/PSENet), ...
- NgoÃ i 2 loáº¡i chÃ­nh trÃªn, cÃ²n cÃ³ má»™t sá»‘ phÆ°Æ¡ng phÃ¡p khÃ¡c nhÆ° **Character-based methods** (ná»•i tiáº¿ng vá»›i [CRAFT](https://github.com/clovaai/CRAFT-pytorch)), **Word-based methods**, .... Tuy nhiÃªn, nhá»¯ng phÆ°Æ¡ng phÃ¡p nÃ y chá»‰ lÃ  cÃ¡ch phÃ¢n loáº¡i cho má»™t sá»‘ giáº£i phÃ¡p hay model cá»¥ thá»ƒ nÃªn mÃ¬nh sáº½ khÃ´ng Ä‘i sÃ¢u vÃ o chÃºng.

### 3. Nháº­n dáº¡ng vÄƒn báº£n (Text Recognition)

BÃ i toÃ¡n **Text Recognition** cÃ³ thá»ƒ phÃ¢n thÃ nh 2 loáº¡i sau: Nháº­n dáº¡ng chá»¯ thÃ´ng thÆ°á»ng - _Regular Text Recognition_ vÃ  Nháº­n dáº¡ng chá»¯ cÃ³ sá»± biáº¿n dáº¡ng - _Irregular Text Recognition_ (chá»¯ cÃ³ thá»ƒ bá»‹ nghiÃªng, cong hoáº·c bá»‹ má», mÃ©o do nhiá»u yáº¿u tá»‘). Má»™t sá»‘ cÃ¡ch lÃ m trÆ°á»›c Ä‘Ã¢y lÃ  sáº½ phÃ¡t hiá»‡n vá»‹ trÃ­ tá»«ng kÃ­ tá»± vÃ  nháº­n dáº¡ng chÃºng báº±ng _Quy hoáº¡ch Ä‘á»™ng_ vÃ  thuáº­t toÃ¡n tÃ¬m kiáº¿m Ä‘Æ°á»£c Ä‘á» cáº­p trong bÃ i bÃ¡o [End-to-end scene text recognition](https://ieeexplore.ieee.org/abstract/document/6126402/). CÃ¡c phÆ°Æ¡ng phÃ¡p nÃ y cÃ³ háº¡n cháº¿ lÃ  sáº½ khÃ´ng khai thÃ¡c Ä‘Æ°á»£c má»‘i quan há»‡ vá» máº·t ngá»¯ nghÄ©a.

Giáº£ sá»­, náº¿u lá»±a chá»n triá»ƒn khai tá»« Ä‘áº§u á»Ÿ má»©c kÃ½ tá»± thÃ¬ á»Ÿ bÃ i toÃ¡n **Text Recognition** nÃ y, Ä‘á»ƒ biáº¿t cÃ¡c bounding box thu Ä‘Æ°á»£c cÃ³ chá»©a kÃ½ tá»± gÃ¬ sau khi thá»±c hiá»‡n **Text Detection** trÃªn 1 áº£nh, ta chá»‰ cáº§n Ä‘Æ¡n thuáº§n Ã¡p dá»¥ng 1 kiáº¿n trÃºc `CNN`. CÃ¡ch lÃ m nÃ y tÆ°Æ¡ng tá»± nhÆ° bÃ i toÃ¡n nháº­n dáº¡ng chá»¯ sá»‘ viáº¿t tay trÃªn bá»™ dá»¯ liá»‡u [MNIST](https://www.tensorflow.org/datasets/keras_example) kinh Ä‘iá»ƒn. VÃ  cÅ©ng Ä‘Ã£ cÃ³ 1 [cuá»™c thi](https://www.kaggle.com/competitions/kuzushiji-recognition) dÃ nh cho chá»¯ Kuzushiji (má»™t loáº¡i chá»¯ Nháº­t cá»•) vá»›i nhiá»u lá»i giáº£i hay cÅ©ng nhÆ° cÃ¡c mÃ´ hÃ¬nh má»›i láº¡ Ä‘áº¿n tá»« nhiá»u thÃ­ sinh, Ä‘a pháº§n lÃ  há» sáº½ sá»­ dá»¥ng cÃ¡c kiáº¿n trÃºc quen thuá»™c trong **Object Detection** káº¿t há»£p vá»›i 1 máº¡ng `CNN`.

Tuy nhiÃªn, do nhá»¯ng nhÆ°á»£c Ä‘iá»ƒm cá»§a viá»‡c triá»ƒn khai theo má»©c kÃ½ tá»± Ä‘Ã£ Ä‘Æ°á»£c Ä‘á» cáº­p trong nhá»¯ng pháº§n trÃªn, nÃªn trong bÃ i viáº¿t nÃ y mÃ¬nh chá»‰ hÆ°á»›ng tá»›i nhá»¯ng cÃ¡ch tiáº¿p cáº­n mÃ  khÃ´ng chá»‰ giÃºp cÃ¡c mÃ´ hÃ¬nh **Recognition** cÃ³ thá»ƒ nháº­n dáº¡ng Ä‘Æ°á»£c text mÃ  cÃ²n há»c Ä‘Æ°á»£c cáº£ ngá»¯ nghÄ©a cá»§a chÃºng thay vÃ¬ chá»‰ Ä‘Æ¡n thuáº§n sá»­ dá»¥ng 1 máº¡ng `CNN` Ä‘á»ƒ nháº­n dáº¡ng riÃªng láº» tá»«ng kÃ½ tá»± má»™t.

#### a) Tiáº¿p cáº­n theo hÆ°á»›ng Image Captioning

ÄÆ¡n giáº£n vÃ  dá»… tháº¥y nháº¥t, ta cÃ³ thá»ƒ xem bÃ i toÃ¡n OCR nhÆ° má»™t bÃ i toÃ¡n táº¡o mÃ´ táº£ báº±ng ngÃ´n ngá»¯ tá»± nhiÃªn cho ná»™i dung cá»§a hÃ¬nh áº£nh (_Image Captioning_). Trong quÃ¡ trÃ¬nh hÃ¬nh thÃ nh mÃ´ táº£, ta sáº½ liÃªn tá»¥c quan sÃ¡t hÃ¬nh áº£nh nhÆ°ng Ä‘á»“ng thá»i cÅ©ng liÃªn tá»¥c tÃ¬m cÃ¡ch táº¡o ra má»™t chuá»—i cÃ¡c tá»« cÃ³ Ã½ nghÄ©a. NhÆ° váº­y, cÃ³ 2 loáº¡i thÃ´ng tin sáº½ cáº§n Ä‘Æ°á»£c xá»­ lÃ½: hÃ¬nh áº£nh vÃ  mÃ´ táº£ (caption) tÆ°Æ¡ng á»©ng vá»›i áº£nh Ä‘Ã³. Äá»‘i vá»›i Ä‘áº§u vÃ o lÃ  áº£nh, ta cÃ³ thá»ƒ sáº½ sá»­ dá»¥ng 1 máº¡ng `CNN` Ä‘á»ƒ trÃ­ch xuáº¥t Ä‘áº·c trÆ°ng. CÃ²n Ä‘á»‘i vá»›i Ä‘áº§u vÃ o lÃ  caption, `RNN` sáº½ Ä‘Æ°á»£c Ã¡p dá»¥ng Ä‘á»ƒ xá»­ lÃ½ dá»¯ liá»‡u chuá»—i. CÃ¢u há»i Ä‘áº·t ra á»Ÿ Ä‘Ã¢y lÃ  lÃ m sao cÃ³ thá»ƒ káº¿t há»£p Ä‘Æ°á»£c thÃ´ng tin giá»¯a 2 nguá»“n dá»¯ liá»‡u nÃ y, tá»©c nÃªn Ä‘Æ°a cÃ¡c máº«u thÃ´ng tin nÃ y vÃ o mÃ´ hÃ¬nh nhÆ° tháº¿ nÃ o hay theo thá»© tá»± nÃ o?

CÃ³ 1 [nghiÃªn cá»©u](https://github.com/mtanti/where-image2) Ä‘Ã£ trÃ¬nh bÃ y 1 sá»± so sÃ¡nh cÃ³ há»‡ thá»‘ng cho cÃ¡c cÃ¡ch káº¿t há»£p khÃ¡c nhau hay cá»¥ thá»ƒ hÆ¡n lÃ  Ä‘Ã¡nh giÃ¡ viá»‡c xá»­ lÃ½ chung hay xá»­ lÃ½ riÃªng biá»‡t tá»«ng pháº§n thÃ´ng tin sáº½ hiá»‡u quáº£ hÆ¡n.

![](./inject-merge.png)

NgoÃ i ra, 1 cÃ¡ch giáº£i quyáº¿t khÃ¡c mÃ¬nh tÃ¬m hiá»ƒu Ä‘Æ°á»£c cho viá»‡c tiáº¿p cáº­n theo hÆ°á»›ng sinh mÃ´ táº£ cho áº£nh lÃ  táº­n dá»¥ng sá»± vÆ°á»£t trá»™i cá»§a CÆ¡ cháº¿ Attention, Ä‘Æ°á»£c láº¥y cáº£m há»©ng tá»« 1 [bÃ i bÃ¡o cá»§a Google](https://github.com/tensorflow/models/tree/master/research/attention_ocr) vÃ  1 [bÃ i trong há»™i nghá»‹ ICML](https://www.tensorflow.org/tutorials/text/image_captioning). Báº±ng cÃ¡ch sá»­ dá»¥ng mÃ´ hÃ¬nh dá»±a trÃªn CÆ¡ cháº¿ Attention (Attention-based) ta cÃ³ thá»ƒ biáº¿t Ä‘Æ°á»£c pháº§n nÃ o cá»§a áº£nh sáº½ Ä‘Æ°á»£c mÃ´ hÃ¬nh táº­p trung vÃ o khi nÃ³ sinh ra caption.

<center>
    <a href="https://fpt.ai/sites/default/files/2019-11/attention.png">
        <img src="https://fpt.ai/sites/default/files/2019-11/attention.png" width="250" />
    </a>
</center>

#### b) MÃ´ hÃ¬nh CRNN sá»­ dá»¥ng CTC Loss

Máº¡ng [CRNN](https://github.com/bgshih/crnn) Ä‘Æ°á»£c táº¡o nÃªn dá»±a trÃªn nhá»¯ng cÃ¡i nhÃ¬n cÆ¡ báº£n nháº¥t: bÃ i toÃ¡n **Text Recognition** nÃ³i 1 cÃ¡ch Ä‘Æ¡n giáº£n chÃ­nh lÃ  bÃ i toÃ¡n nháº­n dáº¡ng chuá»—i tá»« áº£nh Ä‘áº§u vÃ o, Ä‘á»‘i viá»‡c xá»­ lÃ½ dá»¯ liá»‡u áº£nh thÃ¬ máº¡ng phÃ¹ há»£p nháº¥t thÆ°á»ng lÃ  `CNN`, cÃ²n Ä‘á»‘i vá»›i váº¥n Ä‘á» xá»­ lÃ½ trÃ¬nh tá»± thÃ¬ phÃ¹ há»£p nháº¥t thÆ°á»ng lÃ  `RNN`. Tá»« Ä‘Ã³, [CRNN](https://github.com/bgshih/crnn) Ä‘Ã£ ra Ä‘á»i vÃ  lÃ  sá»± káº¿t há»£p Ä‘á»“ng thá»i giá»¯a 2 máº¡ng `CNN` vÃ  `RNN` cÃ¹ng 1 hÃ m máº¥t mÃ¡t [CTC](https://distill.pub/2017/ctc). MÃ´ hÃ¬nh nÃ y Ä‘Æ°á»£c thiáº¿t káº¿ vá»›i má»¥c Ä‘Ã­ch giáº£i quyáº¿t cÃ¡c nhiá»‡m vá»¥ nháº­n dáº¡ng trÃ¬nh tá»± dá»±a trÃªn hÃ¬nh áº£nh, cháº³ng háº¡n nhÆ° cÃ¡c bÃ i toÃ¡n **Scene Text Recognition**. ÄÃ¢y cÅ©ng lÃ  mÃ´ hÃ¬nh phá»• biáº¿n trong viá»‡c nháº­n dáº¡ng chá»¯ in cÅ©ng nhÆ° chá»¯ viáº¿t tay vÃ  cÃ³ káº¿t quáº£ ráº¥t kháº£ quan dÃ¹ cho nÃ³ cÃ³ kiáº¿n trÃºc cá»±c ká»³ Ä‘Æ¡n giáº£n.

<center>
    <a href="https://i0.wp.com/theailearner.com/wp-content/uploads/2021/01/ctc3.jpg">
        <img src="https://i0.wp.com/theailearner.com/wp-content/uploads/2021/01/ctc3.jpg" width="300" />
    </a>
</center>

#### c) Tiáº¿p cáº­n theo hÆ°á»›ng Seq2Seq trong dá»‹ch mÃ¡y

Kiáº¿n trÃºc [CRNN](https://github.com/bgshih/crnn) sá»­ dá»¥ng [CTC Loss](https://distill.pub/2017/ctc) cÃ³ 1 háº¡n cháº¿ lÃ  ta pháº£i cáº©n tháº­n Ä‘iá»u chá»‰nh kiáº¿n trÃºc mÃ´ hÃ¬nh Ä‘á»ƒ kÃ­ch thÆ°á»›c cá»§a vÃ¹ng nháº­n thá»©c (receptive field) khá»›p vá»›i sá»‘ lÆ°á»£ng kÃ½ tá»± tá»‘i Ä‘a cÃ³ thá»ƒ dá»± Ä‘oÃ¡n (max length cá»§a text). Má»™t bá»• sung phá»• biáº¿n cho mÃ´ hÃ¬nh CRNN cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ cáº£i thiá»‡n dá»± Ä‘oÃ¡n cá»§a vÄƒn báº£n trong áº£nh Ä‘áº§u vÃ o lÃ  má»™t CÆ¡ cháº¿ Attention. Trong hÆ°á»›ng tiáº¿p cáº­n nÃ y, nhÆ° thÆ°á»ng lá»‡, Ä‘áº§u tiÃªn ta sáº½ sá»­ dá»¥ng cÃ¡c máº¡ng `CNN` Ä‘á»ƒ trÃ­ch xuáº¥t Ä‘áº·c trÆ°ng áº£nh. Sau Ä‘Ã³, cÃ¡c Ä‘áº·c trÆ°ng nÃ y sáº½ Ä‘Æ°á»£c chuyá»ƒn thÃ nh chuá»—i vÃ  truyá»n qua máº¡ng `RNN` Ä‘á»ƒ cÃ³ Ä‘Æ°á»£c káº¿t quáº£ cho CÆ¡ cháº¿ Attention xá»­ lÃ½.

MÃ´ hÃ¬nh sá»­ dá»¥ng trong quÃ¡ trÃ¬nh nÃ y Ä‘Æ°á»£c láº¥y cáº£m há»©ng vÃ  cÃ³ cÃ¡ch hoáº¡t Ä‘á»™ng tÆ°Æ¡ng tá»± mÃ´ hÃ¬nh [Attention Seq2Seq](https://www.tensorflow.org/text/tutorials/nmt_with_attention) cho bÃ i toÃ¡n dá»‹ch mÃ¡y. Vá»›i 1 bÃ i toÃ¡n dá»‹ch mÃ¡y tá»« tiáº¿ng Viá»‡t sang Anh, ta cáº§n encode 1 chuá»—i tiáº¿ng Viá»‡t thÃ nh má»™t vector Ä‘áº·c trÆ°ng, cÃ²n trong mÃ´ hÃ¬nh nÃ y, dá»¯ liá»‡u Ä‘áº§u vÃ o sáº½ lÃ  1 áº£nh.

<center>
    <a href="https://nanonets.com/blog/content/images/2019/08/attention-ocr.jpg">
        <img src="https://nanonets.com/blog/content/images/2019/08/attention-ocr.jpg" width="300" />
    </a>
</center>

Viá»‡c huáº¥n luyá»‡n mÃ´ hÃ¬nh nÃ y tÆ°Æ¡ng tá»± nhÆ° huáº¥n luyá»‡n mÃ´ hÃ¬nh [Seq2Seq](https://www.tensorflow.org/text/tutorials/nmt_with_attention), chÃºng sá»­ dá»¥ng `cross-entropy` Ä‘á»ƒ tá»‘i Æ°u thay vÃ¬ [CTC Loss](https://distill.pub/2017/ctc) nhÆ° [CRNN](https://github.com/bgshih/crnn). NghÄ©a lÃ  táº¡i má»—i `timestep`, mÃ´ hÃ¬nh sáº½ dá»± Ä‘oÃ¡n 1 kÃ½ tá»± Ä‘á»ƒ tÃ­nh loss so vá»›i nhÃ£n vÃ  cáº­p nháº­t láº¡i trá»ng sá»‘ cá»§a mÃ´ hÃ¬nh. Tuy nhiÃªn Ä‘á»‘i vá»›i mÃ´ hÃ¬nh nÃ y, cÃ¡c cÃ¢u ngáº¯n sáº½ thÆ°á»ng hoáº¡t Ä‘á»™ng tá»‘t hÆ¡n, nhÆ°ng náº¿u Ä‘áº§u vÃ o quÃ¡ dÃ i, mÃ´ hÃ¬nh sáº½ máº¥t táº­p trung theo Ä‘Ãºng nghÄ©a Ä‘en vÃ  ngá»«ng cung cáº¥p cÃ¡c dá»± Ä‘oÃ¡n há»£p lÃ½. CÃ³ 2 lÃ½ do chÃ­nh cho viá»‡c nÃ y:

-   MÃ´ hÃ¬nh Ä‘Æ°á»£c huáº¥n luyá»‡n sá»­ dá»¥ng `Teacher Forcing` sáº½ cung cáº¥p kÃ½ tá»± Ä‘Ãºng táº¡i má»—i bÆ°á»›c, báº¥t ká»ƒ káº¿t quáº£ dá»± Ä‘oÃ¡n lÃ  gÃ¬. Do Ä‘Ã³, mÃ´ hÃ¬nh cÃ³ thá»ƒ trá»Ÿ nÃªn máº¡nh máº½ hÆ¡n náº¿u Ä‘Æ°á»£c cung cáº¥p thÃªm cÃ¡c dá»± Ä‘oÃ¡n cá»§a chÃ­nh nÃ³.
-   MÃ´ hÃ¬nh chá»‰ cÃ³ thá»ƒ biáº¿t Ä‘Æ°á»£c Ä‘áº§u ra trÆ°á»›c Ä‘Ã³ cá»§a nÃ³ thÃ´ng qua `state` cá»§a `RNN`. Náº¿u `state` nÃ y bá»‹ há»ng, sáº½ khÃ´ng cÃ³ cÃ¡ch nÃ o Ä‘á»ƒ mÃ´ hÃ¬nh phá»¥c há»“i. [Transformer](https://jalammar.github.io/illustrated-transformer) Ä‘Ã£ giáº£i quyáº¿t Ä‘iá»u nÃ y báº±ng cÃ¡ch sá»­ dá»¥ng kháº£ nÄƒng tá»± chÃº Ã½ (_Self-Attention_) trong `Encoder` vÃ  `Decoder`.

#### d) CÃ¡c mÃ´ hÃ¬nh TransformerOCR

Do kiáº¿n trÃºc [Seq2Seq](https://www.tensorflow.org/text/tutorials/nmt_with_attention) trÃªn váº«n cÃ²n tá»“n táº¡i 1 sá»‘ nhÆ°á»£c Ä‘iá»ƒm nháº¥t Ä‘á»‹nh. VÃ¬ váº­y, 1 cÃ¡ch phá»• biáº¿n khÃ¡c Ä‘á»ƒ tÄƒng Ä‘á»™ chÃ­nh xÃ¡c cho cÃ¡c kiáº¿n trÃºc cá»§a bÃ i toÃ¡n **Recognition** lÃ  [táº­n dá»¥ng Transformer](https://www.tensorflow.org/text/tutorials/transformer). NgoÃ i viá»‡c kháº¯c phá»¥c Ä‘Æ°á»£c nhá»¯ng nhÆ°á»£c Ä‘iá»ƒm cá»§a mÃ´ hÃ¬nh [Seq2Seq](https://www.tensorflow.org/text/tutorials/nmt_with_attention), [Transformer](https://jalammar.github.io/illustrated-transformer) cÅ©ng Ä‘i kÃ¨m vá»›i ráº¥t nhiá»u Æ°u Ä‘iá»ƒm khÃ¡c nhÆ° cÃ³ thá»ƒ xá»­ lÃ½ Ä‘áº§u vÃ o cÃ³ kÃ­ch thÆ°á»›c thay Ä‘á»•i báº±ng cÃ¡c lá»›p `Self-Attention` thay vÃ¬ cÃ¡c máº¡ng `RNN` hay `CNN`. NgoÃ i ra, nÃ³ cÃ²n cÃ³ thá»ƒ há»c Ä‘Æ°á»£c cÃ¡c sá»± **phá»¥ thuá»™c dÃ i háº¡n** (_long-term dependencies_), Ä‘Ã¢y lÃ  1 thá»­ thÃ¡ch trong ráº¥t nhiá»u tÃ¡c vá»¥ trÃ¬nh tá»±. Kiáº¿n trÃºc nÃ y sáº½ cÃ³ chá»©c nÄƒng tÆ°Æ¡ng tá»± nhÆ° cÃ¡c máº¡ng `RNN` nhÆ°ng Ä‘iá»ƒm khÃ¡c biá»‡t lÃ  nÃ³ khÃ´ng yÃªu cáº§u xá»­ lÃ½ dá»¯ liá»‡u Ä‘áº§u vÃ o theo thá»© tá»± (nghÄ©a lÃ  tá»« Ä‘áº§u Ä‘áº¿n cuá»‘i). Äiá»u nÃ y Ä‘á»“ng thá»i cÅ©ng cÃ³ thá»ƒ lÃ m giáº£m Ä‘Ã¡ng ká»ƒ thá»i gian cáº§n thiáº¿t Ä‘á»ƒ huáº¥n luyá»‡n má»™t kiáº¿n trÃºc **Recognition** nhÆ° váº­y. CÃ¡c báº¡n cÃ³ thá»ƒ tham kháº£o qua 3 link sau Ä‘á»ƒ biáº¿t thÃªm 1 sá»‘ cÃ¡ch cÃ³ thá»ƒ táº­n dá»¥ng sá»©c máº¡nh cá»§a Transformer trong cÃ¡c tÃ¡c vá»¥ OCR:

-   [Scene Text Recognition Using ResNet and Transformer](https://medium.com/geekculture/scene-text-recognition-using-resnet-and-transformer-c1f2dd0e69ae)
-   [TrOCR: Transformer-based Optical Character Recognition with Pre-trained Models](https://github.com/microsoft/unilm/tree/master/trocr)
-   [VietOCR - Nháº­n Dáº¡ng Tiáº¿ng Viá»‡t Sá»­ Dá»¥ng MÃ´ HÃ¬nh Transformer vÃ  AttentionOCR](https://pbcquoc.github.io/vietocr)

#### e) Bá»• sung

Vá»›i riÃªng bÃ i toÃ¡n **Recognition** nÃ y cho tiáº¿ng Viá»‡t, cÃ³ tool [VietOCR](https://pbcquoc.github.io/vietocr) vá»«a Ä‘á» cáº­p á»Ÿ trÃªn khÃ¡ ná»•i tiáº¿ng, Ä‘Ã£ Ä‘Æ°á»£c Ä‘Ã³ng gÃ³i thÃ nh thÆ° viá»‡n, cÃ¡c báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng ngay. NgoÃ i ra, team [Clova AI](https://github.com/clovaai) cÅ©ng Ä‘Ã£ cÃ³ Ä‘á» xuáº¥t 1 [pipeline](https://github.com/clovaai/deep-text-recognition-benchmark) mÃ  phÃ¹ há»£p vá»›i háº§u háº¿t cÃ¡c má»“ hÃ¬nh **STR**. Sá»­ dá»¥ng [pipeline](https://github.com/clovaai/deep-text-recognition-benchmark) nÃ y cho phÃ©p cÃ¡c module thá»ƒ hiá»‡n sá»± Ä‘Ã³ng gÃ³p cá»§a mÃ¬nh 1 cÃ¡ch khÃ´n ngoan hÆ¡n vá» Ä‘á»™ chÃ­nh xÃ¡c, tá»‘c Ä‘á»™ vÃ  nhu cáº§u bá»™ nhá»› báº±ng cÃ¡ch sá»­ dá»¥ng nháº¥t quÃ¡n 1 bá»™ dá»¯ liá»‡u `Train` vÃ  `Validate`. Team [Clova AI](https://github.com/clovaai) nÃ y cÅ©ng chÃ­nh lÃ  tÃ¡c giáº£ cá»§a [CRAFT](https://github.com/clovaai/CRAFT-pytorch), má»™t mÃ´ hÃ¬nh **Detection** khÃ¡ ná»•i tiáº¿ng vÃ  cÅ©ng lÃ  tÃ¡c giáº£ cho phÆ°Æ¡ng phÃ¡p Ä‘Ã¡nh giÃ¡ [CLEval](https://github.com/clovaai/CLEval) sáº½ Ä‘Æ°á»£c trÃ¬nh bÃ y á»Ÿ pháº§n [III](#iii-cÃ¡c-phÆ°Æ¡ng-phÃ¡p-Ä‘Ã¡nh-giÃ¡-evaluation).

BÃªn cáº¡nh Ä‘Ã³, viá»‡c phÃ¡t sinh chuá»—i hiá»‡n táº¡i cá»§a táº¥t cáº£ mÃ´ hÃ¬nh Ä‘á»u chá»‰ Ä‘Æ¡n giáº£n lÃ  sá»­ dá»¥ng **TÃ¬m kiáº¿m tham lam** (_Greedy search_) Ä‘á»ƒ tÃ¬m cÃ¡c `token` cÃ³ xÃ¡c suáº¥t cÃ³ Ä‘iá»u kiá»‡n cao nháº¥t táº¡i má»—i `timestep`. Tuy nhiÃªn, vá»›i cÃ¡ch lÃ m nÃ y, chuá»—i Ä‘Æ°á»£c phÃ¡t sinh cÃ³ thá»ƒ khÃ´ng pháº£i lÃ  chuá»—i cÃ³ xÃ¡c suáº¥t cao nháº¥t. Äiá»u nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c giáº£i quyáº¿t báº±ng **TÃ¬m kiáº¿m VÃ©t cáº¡n** (_Exhaustive Search_), tá»©c kiá»ƒm tra táº¥t cáº£ cÃ¡c chuá»—i Ä‘áº§u ra cÃ³ thá»ƒ vÃ  tráº£ vá» chuá»—i cÃ³ xÃ¡c suáº¥t cÃ³ Ä‘iá»u kiá»‡n cao nháº¥t, nhÆ°ng chi phÃ­ tÃ­nh toÃ¡n cho giáº£i thuáº­t nÃ y lÃ  quÃ¡ lá»›n. VÃ¬ váº­y, ta cÃ³ thá»ƒ sáº½ sá»­ dá»¥ng 1 thuáº­t toÃ¡n cáº£i tiáº¿n hÆ¡n lÃ  **TÃ¬m kiáº¿m ChÃ¹m** (_Beam search_) Ä‘á»ƒ cÃ¢n báº±ng giá»¯a chi phÃ­ tÃ­nh toÃ¡n vÃ  cháº¥t lÆ°á»£ng tÃ¬m kiáº¿m báº±ng cÃ¡ch giá»¯ láº¡i `N` chuá»—i cÃ³ xÃ¡c suáº¥t lá»›n theo Ä‘Æ°á»ng Ä‘i tá»‘t nháº¥t, cuá»‘i cÃ¹ng chuá»—i Ä‘Æ°á»£c chá»n sáº½ lÃ  chuá»—i cÃ³ xÃ¡c suáº¥t cao nháº¥t trong `N` chuá»—i Ä‘Ã³. Hay xa hÆ¡n ná»¯a lÃ  tÃ­ch há»£p **MÃ´ hÃ¬nh ngÃ´n ngá»¯** (_language model_) Ä‘á»ƒ giáº£i mÃ£ Ä‘áº§u ra theo ngá»¯ cáº£nh cá»§a bÃ i toÃ¡n **Text Recognition**. CÃ¡c báº¡n cÃ³ thá»ƒ xem qua cÃ¡c project cá»§a [Harald Scheidl](https://github.com/githubharald), má»™t ngÆ°á»i lÃ m khÃ¡ nhiá»u vá» decode, Ä‘á»ƒ tÃ¬m hiá»ƒu thÃªm cÃ¡ch Ã¡p dá»¥ng cÃ¡c ká»¹ thuáº­t nÃ y.

NgoÃ i ra, náº¿u cÃ¡c báº¡n muá»‘n nhá»¯ng mÃ´ hÃ¬nh phá»©c táº¡p hay hiá»‡n Ä‘áº¡i hÆ¡n ná»¯a thÃ¬ mÃ¬nh Ä‘á» xuáº¥t cÃ¡c báº¡n cÃ³ thá»ƒ lÃªn [Papers With Code](https://paperswithcode.com) cá»§a 2 bá»™ dá»¯ liá»‡u ICDAR [2013](https://paperswithcode.com/dataset/icdar-2013) vÃ  [2015](https://paperswithcode.com/dataset/icdar-2015) Ä‘á»ƒ lá»±a chá»n cÃ¡c mÃ´ hÃ¬nh cho phÃ¹ há»£p vá»›i nhu cáº§u.

## III. CÃ¡c phÆ°Æ¡ng phÃ¡p Ä‘Ã¡nh giÃ¡ (Evaluation)

BÃªn trÃªn chá»‰ lÃ  má»™t sá»‘ hÆ°á»›ng tiáº¿p cáº­n dá»… tháº¥y nháº¥t, Ä‘Æ°á»£c trÃ¬nh bÃ y theo sá»± hiá»ƒu biáº¿t cá»§a mÃ¬nh nÃªn cÅ©ng khÃ´ng trÃ¡nh khá»i sÆ¡ suáº¥t. Náº¿u cÃ³ chá»— nÃ o chÆ°a Ä‘Æ°á»£c Ä‘Ãºng mong má»i ngÆ°á»i gÃ³p Ã½ chá»© Ä‘á»«ng nÃ©m Ä‘Ã¡ nhÃ©. ğŸ˜…

### 1. Metrics Ä‘Ã¡nh giÃ¡ Text Detection vÃ  End-to-End

Äá»ƒ Ä‘Ã¡nh giÃ¡ káº¿t há»£p 2 tÃ¡c vá»¥ phÃ¡t hiá»‡n vÃ  nháº­n dáº¡ng cÃ¡c kÃ½ tá»± trong áº£nh, phÆ°Æ¡ng phÃ¡p thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng lÃ  `IoU` - [Intersection over Union](https://pyimagesearch.com/2016/11/07/intersection-over-union-iou-for-object-detection/) káº¿t há»£p vá»›i CÃ¡c tá»« Ä‘Æ°á»£c cÃ´ng nháº­n chÃ­nh xÃ¡c - `CRW`. Vá»›i giai Ä‘oáº¡n **Text Detection**, phÆ°Æ¡ng phÃ¡p `IoU` chá»‰ cháº¥p nháº­n `bounding box` Ä‘Æ°á»£c dá»± Ä‘oÃ¡n lÃ  Ä‘Ãºng khi vÃ  chá»‰ khi giÃ¡ trá»‹ `IoU` cho 2 `bounding box` Ä‘Æ°á»£c dá»± Ä‘oÃ¡n thá»a 1 `threshold` nháº¥t Ä‘á»‹nh (thÆ°á»ng > 0.5). Máº·c dÃ¹ `IoU` Ä‘Æ°á»£c sá»­ dá»¥ng rá»™ng ráº£i nhÆ°ng cÃ¡ch tÃ­nh cá»§a nÃ³ láº¡i khÃ´ng phÃ¹ há»£p Ä‘á»‘i vá»›i cÃ¡c bÃ i toÃ¡n cáº§n Ä‘á»™ chi tiáº¿t vÃ  chÃ­nh xÃ¡c cao, Ä‘iá»u nÃ y lÃ  ráº¥t quan trá»ng Ä‘á»‘i vá»›i cÃ¡c tÃ¡c vá»¥ `OCR`.

Vá»›i giai Ä‘oáº¡n nháº­n dáº¡ng vÄƒn báº£n trong áº£nh, phÆ°Æ¡ng phÆ°Æ¡ng phÃ¡p `CRW` Ä‘Æ°á»£c sá»­ dá»¥ng nhÆ° má»™t cÃ¡ch Ä‘Ã¡nh giÃ¡ nhá»‹ phÃ¢n Ä‘Æ¡n thuáº§n, khi táº¥t cáº£ cÃ¡c vÄƒn báº£n Ä‘Æ°á»£c nháº­n dáº¡ng trÃ¹ng hoÃ n toÃ n vá»›i nhÃ£n thÃ¬ sáº½ Ä‘Æ°á»£c tÃ­nh lÃ  1, ngÆ°á»£c láº¡i sáº½ lÃ  0. VÃ¬ váº­y, giá»›i háº¡n cá»§a phÆ°Æ¡ng phÃ¡p nÃ y lÃ  khÃ´ng thá»ƒ Ä‘Æ°a ra cÃ¡c chá»‰ sá»‘ Ä‘Ã¡nh giÃ¡ khÃ¡c nhau cho má»™t káº¿t quáº£ nháº­n dáº¡ng vÃ´ lÃ½ vÃ  má»™t káº¿t quáº£ gáº§n nhÆ° chÃ­nh xÃ¡c.

Tá»« trÃªn cÃ³ thá»ƒ tháº¥y, phÆ°Æ¡ng phÃ¡p Ä‘Ã¡nh giÃ¡ `IoU` káº¿t há»£p vá»›i `CRW` cÃ³ nhiá»u máº·t háº¡n cháº¿. VÃ¬ váº­y á»Ÿ Ä‘Ã¢y, mÃ¬nh Ä‘á» xuáº¥t 1 phÆ°Æ¡ng phÃ¡p má»›i cÃ³ tÃªn lÃ  [CLEval](https://github.com/clovaai/CLEval). PhÆ°Æ¡ng phÃ¡p nÃ y sáº½ giÃºp Ä‘Ã¡nh giÃ¡ chÃ­nh xÃ¡c hÆ¡n cho cáº£ 2 giai Ä‘oáº¡n Ä‘Ã£ Ä‘á» cáº­p. Cá»¥ thá»ƒ, nÃ³ cÃ³ thá»ƒ Ä‘Ã¡nh giÃ¡ chÃ­nh xÃ¡c trong trÆ°á»ng há»£p 2 `bounding box` khi káº¿t há»£p láº¡i chÃ­nh lÃ  nhÃ£n cáº§n phÃ¡t hiá»‡n. Trong khi Ä‘Ã³ phÆ°Æ¡ng phÃ¡p `IoU` láº¡i cÃ³ thá»ƒ khÃ´ng cháº¥p nháº­n má»™t trong 2 hoáº·c cáº£ 2 box vÃ¬ ngÆ°á»¡ng Ä‘Æ°á»£c chá»n thÆ°á»ng > 0.5. CÃ²n á»Ÿ giai Ä‘oáº¡n **Text Recognition**, phÆ°Æ¡ng phÃ¡p sáº½ tráº£ vá» cÃ¡c chá»‰ sá»‘ khÃ¡c nhau tÃ¹y thuá»™c vÃ o Ä‘á»™ tÆ°Æ¡ng Ä‘á»“ng cá»§a dá»± Ä‘oÃ¡n so vá»›i nhÃ£n.

NgoÃ i ra, phÆ°Æ¡ng phÃ¡p nÃ y cÃ²n cÃ³ thá»ƒ Ä‘Ã¡nh giÃ¡ Ä‘Æ°á»£c cho riÃªng bÃ i toÃ¡n **Text Detection**, vÃ¬ Ä‘áº·c thÃ¹ cá»§a bÃ i toÃ¡n nÃ y lÃ  khÃ´ng cÃ³ cÃ¡c nhÃ£n vÄƒn báº£n trong cÃ¡c `bounding box` nÃªn tÃ¹y vÃ o bÃ i toÃ¡n mÃ  [CLEval](https://github.com/clovaai/CLEval) sáº½ cÃ³ sá»± khÃ¡c nhau trong cÃ¡c thÃ nh pháº§n tÃ­nh toÃ¡n cá»§a nÃ³.

### 2. Metrics Ä‘Ã¡nh giÃ¡ vá»›i riÃªng Text Recognition

Vá»›i bÃ i toÃ¡n nÃ y thÃ¬ cÃ¡c báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng cÃ¡c phÆ°Æ¡ng phÃ¡p Ä‘Ã¡nh giÃ¡ tÆ°Æ¡ng tá»± vá»›i cÃ¡c cÃ´ng trÃ¬nh liÃªn quan trÆ°á»›c Ä‘Ã³ cho bÃ i toÃ¡n **Regconition** theo má»©c chuá»—i. CÃ¡c phÆ°Æ¡ng phÃ¡p Ä‘Ã¡nh giÃ¡ thÆ°á»ng bao gá»“m: **Character Accuracy**, **Sequence Accuracy** vÃ  **Character Error Rate** - `CER`

## Tham kháº£o

-   https://pbcquoc.github.io
-   https://labelyourdata.com/articles/ocr-with-deep-learning
-   https://towardsdatascience.com/ocr-101-all-you-need-to-know-e6a5c5d5875b
-   https://towardsdatascience.com/segmentation-in-ocr-10de176cf373
-   https://nanonets.com/blog/attention-ocr-for-text-recogntion
-   https://nanonets.com/blog/id-card-digitization-deep-learning
-   https://nanonets.com/blog/deep-learning-ocr
-   https://nanonets.com/blog/handwritten-character-recognition
-   https://theailearner.com/optical-character-recognition
- https://pyimagesearch.com/2016/11/07/intersection-over-union-iou-for-object-detection/
